@using ThePath.Frontend.Models.Classes.Dto
@model IList<EntertainmentLookupDtoByTypeAndAreaAndPrice>;

<head>
    <title>GeoEvent</title>
    <script src="~/js/map.js" charset="utf-8" type="text/javascript"></script>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet-src.js" integrity="sha512-WXoSHqw/t26DszhdMhOXOkI7qCiv5QWXhH9R7CgvgZMHz1ImlkVQ3uNsiQKu5wwbbxtPzFXd1hK4tzno2VqhpA==" crossorigin=""></script>

    <link rel="stylesheet" href="~/css/MarkerCluster.css" />
    <link rel="stylesheet" href="~/css/MarkerCluster.Default.css" />
    <script src="~/js/leaflet.markercluster-src.js"></script>
</head>

<div class="container">
    <div class="row">
        <div class="col-md-4">
            @if (Model.Count == 0)
            {
                <div class="card">
                    <div class="row no-gutters">
                        <div class="col-md-8">
                            <div class="card-body">
                                <h4>По вашему запросу ничего не найдено</h4>
                            </div>
                        </div>
                    </div>
                </div>
            }
            else
            {
                <div style="overflow: auto; width:100%; height:650px;">
                @foreach(var i in Model)
                {
                    <div class="card">
                        <div class="row no-gutters">
                            <div class="col-md-8">
                                <div class="card-body">
                                    <a>
                                        @i.Name
                                    </a>
                                </div>
                            </div>
                            <div class="col-md-12"><img class="card-img" src="@Url.Content(i.UrlImage)"></div>
                        </div>
                    </div>
                }
                </div>
            }
        </div>
        <div class="col-md-8">
            <h1>
                Развлечения :)
            </h1>
            <style>
                #map {
                    height: 100vh;
                }
            </style>
            <div class="container">
                <div id="map"></div>
            </div>

            <div>
                <script>
                    var model = @Json.Serialize(Model);
                    StartMap(model);
                </script>
            </div>
        </div>
    </div>
</div>